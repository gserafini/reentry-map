# ============================================================================
# REENTRY MAP - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in the values
# See SETUP_GUIDE.md for detailed setup instructions
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE (REQUIRED)
# ----------------------------------------------------------------------------
# Self-hosted PostgreSQL on dc3-1

# PostgreSQL connection string (used by Drizzle ORM / postgres.js)
DATABASE_URL=postgresql://reentrymap:yourpassword@dc3-1.serafinihosting.com:5432/reentry_map

# Direct connection (bypasses pgBouncer, used for migrations)
DIRECT_DATABASE_URL=postgresql://reentrymap:yourpassword@dc3-1.serafinihosting.com:5432/reentry_map

# ----------------------------------------------------------------------------
# AUTHENTICATION (REQUIRED)
# ----------------------------------------------------------------------------
# NextAuth.js configuration

# Application URL for auth callbacks
NEXTAUTH_URL=http://localhost:3003

# Secret for signing tokens
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
NEXTAUTH_SECRET=your-nextauth-secret-here

# Twilio SMS configuration (for phone OTP authentication)
# Get from: https://console.twilio.com
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1xxxxxxxxxx

# ----------------------------------------------------------------------------
# APPLICATION (REQUIRED IN PRODUCTION)
# ----------------------------------------------------------------------------

# Your application URL (e.g., https://reentry-map.vercel.app)
# Used for auth redirects, SEO metadata, Open Graph tags, etc.
# In development, defaults to http://localhost:3003
# NEXT_PUBLIC_APP_URL=http://localhost:3003

# ----------------------------------------------------------------------------
# GOOGLE MAPS (OPTIONAL - Needed for Location Features)
# ----------------------------------------------------------------------------
# Get API keys from: https://console.cloud.google.com/apis/credentials

# Client-side Google Maps key (for displaying maps in browser)
# Enable: Maps JavaScript API, Places API
# NEXT_PUBLIC_GOOGLE_MAPS_KEY=your-google-maps-api-key

# Server-side Google Maps key (for geocoding, distance calculations)
# Enable: Geocoding API, Distance Matrix API
# GOOGLE_MAPS_KEY=your-server-side-google-maps-key

# ----------------------------------------------------------------------------
# AI APIs (OPTIONAL - Needed for AI Agents & Autonomous Verification)
# ----------------------------------------------------------------------------

# Anthropic API key for Claude (autonomous verification)
# Get API key from: https://console.anthropic.com/settings/keys
# ANTHROPIC_API_KEY=your-anthropic-api-key

# AI Model Configuration (easily updatable as models change)
# Verification model: Used for URL auto-fix with web search (default: claude-sonnet-4-20250514)
# ANTHROPIC_VERIFICATION_MODEL=claude-sonnet-4-20250514
# Enrichment model: Used for content verification (default: claude-haiku-4-5-20250514)
# ANTHROPIC_ENRICHMENT_MODEL=claude-haiku-4-5-20250514

# OpenAI API key (legacy - not currently used)
# OPENAI_API_KEY=your-openai-api-key

# Admin API key for machine-to-machine authentication (Claude Code, automated scripts)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Allows Claude Code and scripts to use admin endpoints without browser auth
# ADMIN_API_KEY=your-32-char-or-longer-api-key

# ----------------------------------------------------------------------------
# MONITORING & ALERTS (OPTIONAL)
# ----------------------------------------------------------------------------
# Admin email for system alerts and dependency monitoring
# Receives alerts when external services (ipapi.co, Google Maps, etc.) fail
# ADMIN_EMAIL=your-email@example.com

# ----------------------------------------------------------------------------
# DEFAULT LOCATION (OPTIONAL - defaults to Oakland, CA)
# ----------------------------------------------------------------------------
# Default map center and fallback location when GeoIP unavailable

# NEXT_PUBLIC_DEFAULT_CITY=Oakland
# NEXT_PUBLIC_DEFAULT_REGION=CA
# NEXT_PUBLIC_DEFAULT_LATITUDE=37.8044
# NEXT_PUBLIC_DEFAULT_LONGITUDE=-122.2712

# ----------------------------------------------------------------------------
# ANALYTICS (OPTIONAL)
# ----------------------------------------------------------------------------

# Enable/disable analytics tracking (default: true)
# NEXT_PUBLIC_ANALYTICS_ENABLED=true

# ----------------------------------------------------------------------------
# DEVELOPMENT (OPTIONAL)
# ----------------------------------------------------------------------------

# Skip environment validation during build (useful for Docker/CI)
# SKIP_ENV_VALIDATION=true

# Use external IP lookup in development for testing real geolocation
# USE_EXTERNAL_IP_IN_DEV=false
