# ============================================================================
# REENTRY MAP - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in the values
# See SETUP_GUIDE.md for detailed setup instructions
# ============================================================================

# ----------------------------------------------------------------------------
# SUPABASE (REQUIRED)
# ----------------------------------------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api

# Your Supabase project URL (e.g., https://xxxxx.supabase.co)
NEXT_PUBLIC_SUPABASE_URL=your-project-url

# Supabase publishable/anon key (safe to expose to client)
# Used for client-side auth and database queries with RLS
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-publishable-or-anon-key

# Supabase service role key (KEEP SECRET - server-side only)
# REQUIRED when using ADMIN_API_KEY for Claude Code/automated verification
# Used for admin operations that bypass RLS (creates resources via API key auth)
# Get from: https://app.supabase.com/project/_/settings/api (under "service_role" secret)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ----------------------------------------------------------------------------
# APPLICATION (REQUIRED IN PRODUCTION)
# ----------------------------------------------------------------------------

# Your application URL (e.g., https://reentry-map.vercel.app)
# Used for auth redirects, SEO metadata, Open Graph tags, etc.
# In development, defaults to http://localhost:3003
# NEXT_PUBLIC_APP_URL=http://localhost:3003

# ----------------------------------------------------------------------------
# GOOGLE MAPS (OPTIONAL - Needed for Phase 4: Location Features)
# ----------------------------------------------------------------------------
# Get API keys from: https://console.cloud.google.com/apis/credentials

# Client-side Google Maps key (for displaying maps in browser)
# Enable: Maps JavaScript API, Places API
# NEXT_PUBLIC_GOOGLE_MAPS_KEY=your-google-maps-api-key

# Server-side Google Maps key (for geocoding, distance calculations)
# Enable: Geocoding API, Distance Matrix API
# GOOGLE_MAPS_KEY=your-server-side-google-maps-key

# ----------------------------------------------------------------------------
# CAREERONESTOP API (OPTIONAL - Needed for bulk workforce data imports)
# ----------------------------------------------------------------------------
# Register for free API access at: https://www.careeronestop.org/Developers/WebAPI/registration.aspx
# Used for importing American Job Centers and ReEntry Programs nationwide

# User ID provided after registration
# CAREERONESTOP_USER_ID=your-user-id

# Authorization token (Bearer token) provided after registration
# CAREERONESTOP_API_KEY=your-auth-token

# ----------------------------------------------------------------------------
# AI APIs (OPTIONAL - Needed for AI Agents & Autonomous Verification)
# ----------------------------------------------------------------------------

# Anthropic API key for Claude (autonomous verification)
# Get API key from: https://console.anthropic.com/settings/keys
# ANTHROPIC_API_KEY=your-anthropic-api-key

# AI Model Configuration (easily updatable as models change)
# Verification model: Used for URL auto-fix with web search (default: claude-sonnet-4-20250514)
# ANTHROPIC_VERIFICATION_MODEL=claude-sonnet-4-20250514
# Enrichment model: Used for content verification (default: claude-haiku-4-5-20250514)
# ANTHROPIC_ENRICHMENT_MODEL=claude-haiku-4-5-20250514

# OpenAI API key (legacy - not currently used)
# OPENAI_API_KEY=your-openai-api-key

# Admin API key for machine-to-machine authentication (Claude Code, automated scripts)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Allows Claude Code and scripts to use admin endpoints without browser auth
# ADMIN_API_KEY=your-32-char-or-longer-api-key

# ----------------------------------------------------------------------------
# MONITORING & ALERTS (OPTIONAL)
# ----------------------------------------------------------------------------
# Admin email for system alerts and dependency monitoring
# Receives alerts when external services (ipapi.co, Google Maps, etc.) fail
# Currently logs to console (Vercel logs); add RESEND_API_KEY for email alerts
# ADMIN_EMAIL=your-email@example.com

# ----------------------------------------------------------------------------
# DEFAULT LOCATION (OPTIONAL - defaults to Oakland, CA)
# ----------------------------------------------------------------------------
# Default map center and fallback location when GeoIP unavailable
# Change these to match your service area

# NEXT_PUBLIC_DEFAULT_CITY=Oakland
# NEXT_PUBLIC_DEFAULT_REGION=CA
# NEXT_PUBLIC_DEFAULT_LATITUDE=37.8044
# NEXT_PUBLIC_DEFAULT_LONGITUDE=-122.2712

# ----------------------------------------------------------------------------
# ANALYTICS (OPTIONAL)
# ----------------------------------------------------------------------------

# Enable/disable analytics tracking
# Set to 'false' to disable analytics in testing/staging environments
# Default: true (enabled)
# Can also be toggled at runtime in browser console:
#   enableAnalytics() / disableAnalytics()
# NEXT_PUBLIC_ANALYTICS_ENABLED=true

# ----------------------------------------------------------------------------
# DEVELOPMENT (OPTIONAL)
# ----------------------------------------------------------------------------

# Skip environment validation during build (useful for Docker/CI)
# SKIP_ENV_VALIDATION=true

# Use external IP lookup in development for testing real geolocation
# By default, localhost (127.0.0.1) returns default location (Oakland)
# Set to 'true' to fetch your actual external IP and test real location detection
# Uses ipify.org (free) to get your IP, then ipapi.co for geolocation
# USE_EXTERNAL_IP_IN_DEV=false
